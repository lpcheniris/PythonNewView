from bs4 import BeautifulSoup
import json
NOT_CAPITALIZE = ["or", "and", "with"]


def getHtml(file = "./ForToolKit.html"):
    soup = BeautifulSoup(open(file, "r", encoding='utf-8'), 'html.parser')
    str = soup.select("p")[0].text.replace("\n", " ")
    return CapitalizeTitle(str)
    # strList = str.split(" ")
    # strMap = {}
    # for item in strList:
    #     item = item.strip()
    #     strMap[item] = item
    # return CapitalizeTitle(str.join(strMap.keys()))

def CapitalizeTitle(title):
    titleString = ""
    wordsList = title.replace("  ", "").split(" ")
    for item in wordsList:
        conversion = item
        if item not in NOT_CAPITALIZE:
            item = str.lower(item)
            conversion = item.capitalize()
        titleString = titleString + conversion + " "
    titleString = titleString.replace("|", "\n")
    return titleString + "\n" + str(len(titleString))+"\n" + titleString[0:36]

def main():
  test = "MONEY BACK GUARANTEE"
  # print(CapitalizeTitle(test))
  print(getHtml())

main()

